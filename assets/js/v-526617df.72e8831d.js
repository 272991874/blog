"use strict";(self.webpackChunkyaomin=self.webpackChunkyaomin||[]).push([[7871],{4463:(a,e,l)=>{l.r(e),l.d(e,{data:()=>t});const t={key:"v-526617df",path:"/algorithm/Raft_base.html",title:"Raft协议",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[],filePathRelative:"algorithm/Raft_base.md",git:{contributors:[{name:"yaomin",email:"272991874@qq.com",commits:1}]}}},3433:(a,e,l)=>{l.r(e),l.d(e,{default:()=>c});var t=l(6252);const r=(0,t._)("h1",{id:"raft协议",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#raft协议","aria-hidden":"true"},"#"),(0,t.Uk)(" Raft协议")],-1),n=(0,t._)("nav",{class:"table-of-contents"},[(0,t._)("ul")],-1),i=(0,t._)("p",null,"raft协议中，一个节点任一时刻处于以下三个状态之一：",-1),o=(0,t._)("ul",null,[(0,t._)("li",null,"leader"),(0,t._)("li",null,"follower"),(0,t._)("li",null,"candidate")],-1),d=["src"],s=(0,t._)("div",{class:"custom-container tip"},[(0,t._)("p",{class:"custom-container-title"},"TIP"),(0,t._)("p",null,"可以看出所有节点启动时都是follower状态；在一段时间内如果没有收到来自leader的心跳，从follower切换到candidate，发起选举；如果收到majority的造成票（含自己的一票）则切换到leader状态；如果发现其他节点比自己更新，则主动切换到follower。"),(0,t._)("p",null,"总之，系统中最多只有一个leader，如果在一段时间里发现没有leader，则大家通过选举-投票选出leader。leader会不停的给follower发心跳消息，表明自己的存活状态。如果leader故障，那么follower会转换成candidate，重新选出leader。")],-1),c={render:function(a,e){return(0,t.wg)(),(0,t.iD)(t.HY,null,[r,n,i,o,(0,t._)("img",{src:a.$withBase("/images/algorithm/raft2021092701.png"),alt:"raft2021092701.png"},null,8,d),s],64)}}}}]);