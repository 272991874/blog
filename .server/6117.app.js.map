{"version":3,"file":"6117.app.js","mappings":";;;;;;;;;;;;AAAO;AACP;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;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","sources":["webpack://yaomin/./docs/.vuepress/.temp/pages/java/java_btrace_arthas.html.js","webpack://yaomin/./docs/.vuepress/.temp/pages/java/java_btrace_arthas.html.vue","webpack://yaomin/./docs/.vuepress/.temp/pages/java/java_btrace_arthas.html.vue?f849","webpack://yaomin/./docs/.vuepress/.temp/pages/java/java_btrace_arthas.html.vue?231f"],"sourcesContent":["export const data = {\n  \"key\": \"v-b4fa24e2\",\n  \"path\": \"/java/java_btrace_arthas.html\",\n  \"title\": \"Btrace & Arthas\",\n  \"lang\": \"zh-CN\",\n  \"frontmatter\": {},\n  \"excerpt\": \"\",\n  \"headers\": [\n    {\n      \"level\": 2,\n      \"title\": \"启动：java -jar arthas-boot.jar\",\n      \"slug\": \"启动-java-jar-arthas-boot-jar\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"按名称监听某个进程\",\n      \"slug\": \"按名称监听某个进程\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"查看线程对应的栈信息\",\n      \"slug\": \"查看线程对应的栈信息\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"反编译 class文件\",\n      \"slug\": \"反编译-class文件\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"使用monitor命令可以监控方法的成功和失败执行次数，非实时返回。 -c表达循环周期，这里指定的是5s\",\n      \"slug\": \"使用monitor命令可以监控方法的成功和失败执行次数-非实时返回。-c表达循环周期-这里指定的是5s\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"trace命令\",\n      \"slug\": \"trace命令\",\n      \"children\": [\n        {\n          \"level\": 3,\n          \"title\": \"次数调用限制\",\n          \"slug\": \"次数调用限制\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"执行时间调用限制\",\n          \"slug\": \"执行时间调用限制\",\n          \"children\": []\n        }\n      ]\n    },\n    {\n      \"level\": 2,\n      \"title\": \"watch命令\",\n      \"slug\": \"watch命令\",\n      \"children\": [\n        {\n          \"level\": 3,\n          \"title\": \"查看方法返回值\",\n          \"slug\": \"查看方法返回值\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"查看方法入参和返回值\",\n          \"slug\": \"查看方法入参和返回值\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"查看异常时的方式信息\",\n          \"slug\": \"查看异常时的方式信息\",\n          \"children\": []\n        }\n      ]\n    },\n    {\n      \"level\": 2,\n      \"title\": \"heapdump命令\",\n      \"slug\": \"heapdump命令\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"异步任务\",\n      \"slug\": \"异步任务\",\n      \"children\": [\n        {\n          \"level\": 3,\n          \"title\": \"查看正在运行的任务\",\n          \"slug\": \"查看正在运行的任务\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"将后台任务转为前台\",\n          \"slug\": \"将后台任务转为前台\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"将前台任务转为后台\",\n          \"slug\": \"将前台任务转为后台\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"后台执行任务，使用&\",\n          \"slug\": \"后台执行任务-使用\",\n          \"children\": []\n        }\n      ]\n    },\n    {\n      \"level\": 2,\n      \"title\": \"webConsole\",\n      \"slug\": \"webconsole\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"exit命令\",\n      \"slug\": \"exit命令\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"jvm命令\",\n      \"slug\": \"jvm命令\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"基础命令\",\n      \"slug\": \"基础命令\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"jvm相关\",\n      \"slug\": \"jvm相关\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"class/classloader相关\",\n      \"slug\": \"class-classloader相关\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"monitor/watch/trace相关\",\n      \"slug\": \"monitor-watch-trace相关\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"monitor——方法执行监控\",\n      \"slug\": \"monitor——方法执行监控\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"profiler/火焰图\",\n      \"slug\": \"profiler-火焰图\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"options\",\n      \"slug\": \"options\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"管道\",\n      \"slug\": \"管道\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"后台异步任务\",\n      \"slug\": \"后台异步任务\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"Web Console\",\n      \"slug\": \"web-console\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"调试步骤\",\n      \"slug\": \"调试步骤\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"java自带工具信息获取\",\n      \"slug\": \"java自带工具信息获取\",\n      \"children\": []\n    }\n  ],\n  \"filePathRelative\": \"java/java_btrace_arthas.md\",\n  \"git\": {\n    \"contributors\": [\n      {\n        \"name\": \"Amin.Yao\",\n        \"email\": \"Amin.Yao@gaiaworks.cn\",\n        \"commits\": 3\n      },\n      {\n        \"name\": \"yaomin\",\n        \"email\": \"272991874@qq.com\",\n        \"commits\": 2\n      }\n    ]\n  }\n}\n","<h1 id=\"btrace-arthas\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#btrace-arthas\" aria-hidden=\"true\">#</a> Btrace &amp; Arthas</h1>\n<nav class=\"table-of-contents\"><ul><li><RouterLink to=\"#启动-java-jar-arthas-boot-jar\">启动：java -jar arthas-boot.jar</RouterLink></li><li><RouterLink to=\"#按名称监听某个进程\">按名称监听某个进程</RouterLink></li><li><RouterLink to=\"#查看线程对应的栈信息\">查看线程对应的栈信息</RouterLink></li><li><RouterLink to=\"#反编译-class文件\">反编译 class文件</RouterLink></li><li><RouterLink to=\"#使用monitor命令可以监控方法的成功和失败执行次数-非实时返回。-c表达循环周期-这里指定的是5s\">使用monitor命令可以监控方法的成功和失败执行次数，非实时返回。 -c表达循环周期，这里指定的是5s</RouterLink></li><li><RouterLink to=\"#trace命令\">trace命令</RouterLink><ul><li><RouterLink to=\"#次数调用限制\">次数调用限制</RouterLink></li><li><RouterLink to=\"#执行时间调用限制\">执行时间调用限制</RouterLink></li></ul></li><li><RouterLink to=\"#watch命令\">watch命令</RouterLink><ul><li><RouterLink to=\"#查看方法返回值\">查看方法返回值</RouterLink></li><li><RouterLink to=\"#查看方法入参和返回值\">查看方法入参和返回值</RouterLink></li><li><RouterLink to=\"#查看异常时的方式信息\">查看异常时的方式信息</RouterLink></li></ul></li><li><RouterLink to=\"#heapdump命令\">heapdump命令</RouterLink></li><li><RouterLink to=\"#异步任务\">异步任务</RouterLink><ul><li><RouterLink to=\"#查看正在运行的任务\">查看正在运行的任务</RouterLink></li><li><RouterLink to=\"#将后台任务转为前台\">将后台任务转为前台</RouterLink></li><li><RouterLink to=\"#将前台任务转为后台\">将前台任务转为后台</RouterLink></li><li><RouterLink to=\"#后台执行任务-使用\">后台执行任务，使用&amp;</RouterLink></li></ul></li><li><RouterLink to=\"#webconsole\">webConsole</RouterLink></li><li><RouterLink to=\"#exit命令\">exit命令</RouterLink></li><li><RouterLink to=\"#jvm命令\">jvm命令</RouterLink></li><li><RouterLink to=\"#基础命令\">基础命令</RouterLink></li><li><RouterLink to=\"#jvm相关\">jvm相关</RouterLink></li><li><RouterLink to=\"#class-classloader相关\">class/classloader相关</RouterLink></li><li><RouterLink to=\"#monitor-watch-trace相关\">monitor/watch/trace相关</RouterLink></li><li><RouterLink to=\"#monitor——方法执行监控\">monitor——方法执行监控</RouterLink></li><li><RouterLink to=\"#profiler-火焰图\">profiler/火焰图</RouterLink></li><li><RouterLink to=\"#options\">options</RouterLink></li><li><RouterLink to=\"#管道\">管道</RouterLink></li><li><RouterLink to=\"#后台异步任务\">后台异步任务</RouterLink></li><li><RouterLink to=\"#web-console\">Web Console</RouterLink></li><li><RouterLink to=\"#调试步骤\">调试步骤</RouterLink></li><li><RouterLink to=\"#java自带工具信息获取\">java自带工具信息获取</RouterLink></li></ul></nav>\n<p>线上诊断工具 https://arthas.aliyun.com/doc/</p>\n<p><a href=\"/file/arthas-boot.jar\">arthas-boot.jar</a></p>\n<p>curl -O https://alibaba.github.io/arthas/arthas-boot.jar</p>\n<h2 id=\"启动-java-jar-arthas-boot-jar\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#启动-java-jar-arthas-boot-jar\" aria-hidden=\"true\">#</a> 启动：java -jar arthas-boot.jar</h2>\n<p>然后选择进程</p>\n<p>java -jar arthas-boot.jar -h 打印更多参数信息。</p>\n<h2 id=\"按名称监听某个进程\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#按名称监听某个进程\" aria-hidden=\"true\">#</a> 按名称监听某个进程</h2>\n<p>java -jar arthas-boot.jar --select 项目名称</p>\n<h2 id=\"查看线程对应的栈信息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查看线程对应的栈信息\" aria-hidden=\"true\">#</a> 查看线程对应的栈信息</h2>\n<p>thread pid</p>\n<h2 id=\"反编译-class文件\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#反编译-class文件\" aria-hidden=\"true\">#</a> 反编译 class文件</h2>\n<p>jad classname</p>\n<h2 id=\"使用monitor命令可以监控方法的成功和失败执行次数-非实时返回。-c表达循环周期-这里指定的是5s\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#使用monitor命令可以监控方法的成功和失败执行次数-非实时返回。-c表达循环周期-这里指定的是5s\" aria-hidden=\"true\">#</a> 使用monitor命令可以监控方法的成功和失败执行次数，非实时返回。 -c表达循环周期，这里指定的是5s</h2>\n<p>monitor -c 5 class method</p>\n<p>例：monitor -c 5 com.min.GoodsController.get</p>\n<h2 id=\"trace命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#trace命令\" aria-hidden=\"true\">#</a> trace命令</h2>\n<ul>\n<li>使用trace命令，可以查看方法内部的调用路径和方法耗时，消耗时间最长的方法会用红色标记。</li>\n</ul>\n<p>trace class method</p>\n<h3 id=\"次数调用限制\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#次数调用限制\" aria-hidden=\"true\">#</a> 次数调用限制</h3>\n<p>trace class method run -n 1</p>\n<h3 id=\"执行时间调用限制\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#执行时间调用限制\" aria-hidden=\"true\">#</a> 执行时间调用限制</h3>\n<p>trace class method run '#cost &gt; 10'</p>\n<h2 id=\"watch命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#watch命令\" aria-hidden=\"true\">#</a> watch命令</h2>\n<p>watch命令可以查看方法执行时的入参，返回值，异常等信息，并且也可以选择监听的时机，如方法执行之前，方法执行之后。</p>\n<h3 id=\"查看方法返回值\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查看方法返回值\" aria-hidden=\"true\">#</a> 查看方法返回值</h3>\n<p>watch class method returnObj</p>\n<h3 id=\"查看方法入参和返回值\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查看方法入参和返回值\" aria-hidden=\"true\">#</a> 查看方法入参和返回值</h3>\n<p>watch class method &quot;{params,returnObj}&quot;</p>\n<h3 id=\"查看异常时的方式信息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查看异常时的方式信息\" aria-hidden=\"true\">#</a> 查看异常时的方式信息</h3>\n<p>watch class method &quot;{params[0],throwExp}&quot; -e</p>\n<h2 id=\"heapdump命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#heapdump命令\" aria-hidden=\"true\">#</a> heapdump命令</h2>\n<p>使用heapdump来导出java程序的堆dump信息，导出来的hprof可以使用jhat命令和jvisualvm工具查看。</p>\n<div class=\"language-bash ext-sh line-numbers-mode\"><pre v-pre class=\"language-bash\"><code>heapdump filename.hprof\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h2 id=\"异步任务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#异步任务\" aria-hidden=\"true\">#</a> 异步任务</h2>\n<h3 id=\"查看正在运行的任务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查看正在运行的任务\" aria-hidden=\"true\">#</a> 查看正在运行的任务</h3>\n<p>jobs</p>\n<h3 id=\"将后台任务转为前台\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#将后台任务转为前台\" aria-hidden=\"true\">#</a> 将后台任务转为前台</h3>\n<p>fg 序号</p>\n<h3 id=\"将前台任务转为后台\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#将前台任务转为后台\" aria-hidden=\"true\">#</a> 将前台任务转为后台</h3>\n<p>bg 序号</p>\n<h3 id=\"后台执行任务-使用\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#后台执行任务-使用\" aria-hidden=\"true\">#</a> 后台执行任务，使用&amp;</h3>\n<p>trace class method &amp;</p>\n<h2 id=\"webconsole\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#webconsole\" aria-hidden=\"true\">#</a> webConsole</h2>\n<p>默认地址为：http://127.0.0.1:3658/</p>\n<h2 id=\"exit命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#exit命令\" aria-hidden=\"true\">#</a> exit命令</h2>\n<p>使用exit命令，即可退出arthas。</p>\n<h2 id=\"jvm命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#jvm命令\" aria-hidden=\"true\">#</a> jvm命令</h2>\n<p>使用jvm命令，查看当前 JVM 的信息</p>\n<h2 id=\"基础命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#基础命令\" aria-hidden=\"true\">#</a> 基础命令</h2>\n<ul>\n<li>help——查看命令帮助信息</li>\n<li>cat——打印文件内容，和linux里的cat命令类似</li>\n<li>echo–打印参数，和linux里的echo命令类似</li>\n<li>grep——匹配查找，和linux里的grep命令类似</li>\n<li>tee——复制标准输入到标准输出和指定的文件，和linux里的tee命令类似</li>\n<li>pwd——返回当前的工作目录，和linux命令类似</li>\n<li>cls——清空当前屏幕区域</li>\n<li>session——查看当前会话的信息</li>\n<li>reset——重置增强类，将被 Arthas 增强过的类全部还原，Arthas 服务端关闭时会重置所有增强过的类</li>\n<li>version——输出当前目标 Java 进程所加载的 Arthas 版本号</li>\n<li>history——打印命令历史</li>\n<li>quit——退出当前 Arthas 客户端，其他 Arthas 客户端不受影响</li>\n<li>stop——关闭 Arthas 服务端，所有 Arthas 客户端全部退出</li>\n<li>keymap——Arthas快捷键列表及自定义快捷键</li>\n</ul>\n<h2 id=\"jvm相关\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#jvm相关\" aria-hidden=\"true\">#</a> jvm相关</h2>\n<ul>\n<li>dashboard——当前系统的实时数据面板</li>\n<li>thread——查看当前 JVM 的线程堆栈信息</li>\n<li>jvm——查看当前 JVM 的信息</li>\n<li>sysprop——查看和修改JVM的系统属性</li>\n<li>sysenv——查看JVM的环境变量</li>\n<li>vmoption——查看和修改JVM里诊断相关的option</li>\n<li>perfcounter——查看当前 JVM 的Perf Counter信息</li>\n<li>logger——查看和修改logger</li>\n<li>getstatic——查看类的静态属性</li>\n<li>ognl——执行ognl表达式</li>\n<li>mbean——查看 Mbean 的信息</li>\n<li>heapdump——dump java heap, 类似jmap命令的heap dump功能</li>\n</ul>\n<h2 id=\"class-classloader相关\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#class-classloader相关\" aria-hidden=\"true\">#</a> class/classloader相关</h2>\n<ul>\n<li>sc——查看JVM已加载的类信息</li>\n<li>sm——查看已加载类的方法信息</li>\n<li>jad——反编译指定已加载类的源码</li>\n<li>mc——内存编译器，内存编译.java文件为.class文件</li>\n<li>redefine——加载外部的.class文件，redefine到JVM里</li>\n<li>dump——dump 已加载类的 byte code 到特定目录</li>\n<li>classloader——查看classloader的继承树，urls，类加载信息，使用classloader去getResource</li>\n</ul>\n<h2 id=\"monitor-watch-trace相关\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#monitor-watch-trace相关\" aria-hidden=\"true\">#</a> monitor/watch/trace相关</h2>\n<div class=\"custom-container tip\"><p class=\"custom-container-title\">重要</p>\n<p>请注意，这些命令，都通过字节码增强技术来实现的，会在指定类的方法中插入一些切面来实现数据统计和观测，\n因此在线上、预发使用时，请尽量明确需要观测的类、方法以及条件，诊断结束要执行 stop 或将增强过的类执行 reset 命令。</p>\n</div>\n<h2 id=\"monitor——方法执行监控\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#monitor——方法执行监控\" aria-hidden=\"true\">#</a> monitor——方法执行监控</h2>\n<ul>\n<li>watch——方法执行数据观测</li>\n<li>trace——方法内部调用路径，并输出方法路径上的每个节点上耗时</li>\n<li>stack——输出当前方法被调用的调用路径</li>\n<li>tt——方法执行数据的时空隧道，记录下指定方法每次调用的入参和返回信息，并能对这些不同的时间下调用进行观测</li>\n</ul>\n<h2 id=\"profiler-火焰图\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#profiler-火焰图\" aria-hidden=\"true\">#</a> profiler/火焰图</h2>\n<p>profiler–使用async-profiler对应用采样，生成火焰图</p>\n<h2 id=\"options\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#options\" aria-hidden=\"true\">#</a> options</h2>\n<p>options——查看或设置Arthas全局开关</p>\n<h2 id=\"管道\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#管道\" aria-hidden=\"true\">#</a> 管道</h2>\n<p>Arthas支持使用管道对上述命令的结果进行进一步的处理，如sm java.lang.String * | grep ‘index’\ngrep——搜索满足条件的结果\nplaintext——将命令的结果去除ANSI颜色\nwc——按行统计输出结果</p>\n<h2 id=\"后台异步任务\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#后台异步任务\" aria-hidden=\"true\">#</a> 后台异步任务</h2>\n<p>当线上出现偶发的问题，比如需要watch某个条件，而这个条件一天可能才会出现一次时，异步后台任务就派上用场了，详情请参考这里</p>\n<p>使用 &gt; 将结果重写向到日志文件，使用 &amp; 指定命令是后台运行，session断开不影响任务执行（生命周期默认为1天）</p>\n<p>jobs——列出所有job\nkill——强制终止任务\nfg——将暂停的任务拉到前台执行\nbg——将暂停的任务放到后台执行</p>\n<h2 id=\"web-console\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#web-console\" aria-hidden=\"true\">#</a> Web Console</h2>\n<p>通过websocket连接Arthas。</p>\n<p>Web Console\n以java agent方式启动\n以java agent方式启动\nas.sh 和 arthas-boot 技巧\n通过select功能选择attach的进程。</p>\n<p>正常情况下，每次执行as.sh/arthas-boot.jar需要选择，或者指定PID。这样会比较麻烦，因为每次启动应用，它的PID会变化。</p>\n<p>比如，已经启动了arthas-demo.jar，使用jps命令查看：</p>\n<div class=\"language-text ext-text line-numbers-mode\"><pre v-pre class=\"language-text\"><code>$ jps\n58883 arthas-demo.jar\n58884 Jps\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br></div></div><p>通过select参数可以指定进程名字，非常方便。</p>\n<h2 id=\"调试步骤\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#调试步骤\" aria-hidden=\"true\">#</a> 调试步骤</h2>\n<ol>\n<li>top基本使用\ntop -p pid -H 查看pid的进程中线程的具体情况</li>\n</ol>\n<h2 id=\"java自带工具信息获取\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#java自带工具信息获取\" aria-hidden=\"true\">#</a> java自带工具信息获取</h2>\n<p>得到异常的线程id号，那么我们可以用jstack将堆栈信息输出出来\njstack pid &gt; loop.txt\n以PID的线程为例，到loop.txt中查找该线程的信息，因为jstack中PID用的是16进制，所以需要将10进制的PID转换为16进制的数值到文件中查找。</p>\n<div class=\"language-text ext-text line-numbers-mode\"><pre v-pre class=\"language-text\"><code>printf \"%x\" pid\n#输出5662\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br></div></div><p>这样我们一般就能由此分析代码，当然我们也可以通过上面提供的调试工具分析。</p>\n<p><a href=\"https://blog.csdn.net/u013257767/article/details/107310186/\" target=\"_blank\" rel=\"noopener noreferrer\">具体教程<OutboundLink/></a></p>\n","export * from \"-!../../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!../../../../../node_modules/@vuepress/bundler-webpack/lib/build/ssr/vuepressLoader.js!../../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./java_btrace_arthas.html.vue?vue&type=template&id=fb3b352a\"","import { ssrRender } from \"./java_btrace_arthas.html.vue?vue&type=template&id=fb3b352a\"\nconst script = {}\nimport { ssrContextKey } from 'vue'\nscript.ssrRender = (...args) => {\n  const ssrContext = args[2].appContext.provides[ssrContextKey]\n  ssrContext._registeredComponents.add(\"D:\\\\yaomin\\\\WorkSpace\\\\yaomin_java2\\\\node_modules\\\\@vuepress\\\\bundler-webpack\\\\lib\\\\build\\\\ssr\\\\vuepressLoader.js!D:\\\\yaomin\\\\WorkSpace\\\\yaomin_java2\\\\node_modules\\\\vue-loader\\\\dist\\\\index.js??ruleSet[0].use[1]!D:\\\\yaomin\\\\WorkSpace\\\\yaomin_java2\\\\docs\\\\.vuepress\\\\.temp\\\\pages\\\\java\\\\java_btrace_arthas.html.vue\")\n  return ssrRender(...args)\n}\n\n\nexport default script"],"names":[],"sourceRoot":""}